@startuml
left to right direction

actor "User" as User
actor "Admin" as Admin
actor "External Nutrition API" as NutAPI
actor "AI Vision Service" as VisionAI

rectangle "Meals.ai System" {

  usecase "Register Account" as UC1
  usecase "Login/Logout" as UC2
  usecase "Manage Profile\n(age, medical, allergies)" as UC3
  usecase "Set Dietary Goals\n(calories, macros, diet type)" as UC4

  usecase "Upload Meal Photo" as UC5
  usecase "Analyze Meal Image" as UC6
  usecase "Generate Nutrition Facts" as UC7
  usecase "Get Healthier Suggestions\n(substitutions, portions)" as UC8

  usecase "Log Meal (manual or photo)" as UC9
  usecase "View Meal History & Trends" as UC10
  usecase "Save/Manage Recipes" as UC11
  usecase "Generate Grocery List" as UC12

  usecase "Manage Users" as UC13
  usecase "Manage Recipe Library" as UC14
  usecase "View System Metrics/Logs" as UC15
}

User --> UC1
User --> UC2
User --> UC3
User --> UC4
User --> UC5
User --> UC9
User --> UC10
User --> UC11
User --> UC12

UC5 --> UC6 : <<include>>
UC6 --> UC7 : <<include>>
UC7 --> UC8 : <<include>>
UC9 --> UC8 : <<extend>>\n(if suggestions requested)

VisionAI --> UC6
NutAPI --> UC7

Admin --> UC13
Admin --> UC14
Admin --> UC15

@enduml
